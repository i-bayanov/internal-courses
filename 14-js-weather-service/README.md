- [Задачи на промисы, async/await и обработку ошибок](#%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8-%D0%BD%D0%B0-%D0%BF%D1%80%D0%BE%D0%BC%D0%B8%D1%81%D1%8B-asyncawait-%D0%B8-%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D1%83-%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA)
  * [Задача: Сервис погоды на промисах](#%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B0-%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81-%D0%BF%D0%BE%D0%B3%D0%BE%D0%B4%D1%8B)
  * [Задача: Использование async/await в сервисе погоды](#%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B0-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-asyncawait-%D0%B2-%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B5-%D0%BF%D0%BE%D0%B3%D0%BE%D0%B4%D1%8B)
- [Задачи на ES6-модули](#%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8-%D0%BD%D0%B0-es6-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B8)
  * [Задача: Использование модулей в сервисе погоды](#%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B0-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5%D0%B9-%D0%B2-%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B5-%D0%BF%D0%BE%D0%B3%D0%BE%D0%B4%D1%8B)
  * [Задача: Написание тестов для сервиса погоды](#%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B0-%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D1%82%D0%B5%D1%81%D1%82%D0%BE%D0%B2-%D0%B4%D0%BB%D1%8F-%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%BF%D0%BE%D0%B3%D0%BE%D0%B4%D1%8B)

# Задачи на промисы, async/await и обработку ошибок
## Задача: Сервис погоды

Написать 2 класса, эмулирующих работу клиент-сервер: **WeatherServer** и **ClientApp**.

Класс **WeatherServer** создаёт сервер погоды с базой координат городов:
- город и страна (строка)
- удаление от экватора в градусах широты (число)

Кампала, Уганда - 0  
Пхукет, Тайланд - 8  
Санто-Доминго, Доминикана - 18  
Дубай, Арабские Эмираты - 25  
Шанхай, Китай - 31  
Лос-Анжелес, США - 34  
Мадрид, Испания - 40  
Париж, Франция - 49  
Лондон, Великобритания - 52  
Москва, Россия - 56  
Осло, Норвегия - 60  
Мурманск, Россия - 69

Класс **WeatherServer** может выполнять следующие действия:

- возвращать список городов, для которых доступен прогноз погоды
- возвращать среднюю температуру для указанного города и указанного дня в году (от 1 до 365) в градусах по Цельсию (с округлением до десятых). Формула вычисления средней температуры **t**:
```
t = 30 + latitude * (|182 - |202 – dayYear|| / 210 – 1)
```
где **latitude** - широта выбранного города в градусах, **dayYear** - указанный день в году  

Класс **ClientApp** создаёт клиентское приложение с подключенным сервером.

Класс **ClientApp** может выполнять следующие действия:

- отправлять запрос на сервер для получения средней температуры выбранного города в указанный день в году
- высчитывать число (от 1 до 31) и месяц (от января по декабрь) соответствующие дню в году (от 1 до 365)
- выводить в консоль список доступных городов
- выводить в консоль сообщение вида:  
  "Город НАЗВАНИЕ_ГОРОДА, ЧИСЛО МЕСЯЦ, средняя температура: ТЕМПЕРАТУРА"

Для эмуляции работы клиент-сервер использовать промисы и случайную задержку времени перед ответом сервера в интервале от 0.5 до 2 секунд.

Реализовать обработку ошибок при:

- неверно запрошенном городе
- неверно запрошенном дне в году
- отсутствии подключения к серверу
- ответе сервера более, чем 1.5 секунды

Папка для задачи: **14-js-weather-service**

## Задача: Использование async/await в сервисе погоды

Переписать предыдущую задачу "Сервис погоды", используя **async/await** вместо промисов с then/catch.

Папка для задачи: **14-js-weather-service**

Материалы:  
[Коллбеки](https://learn.javascript.ru/callbacks)  
[Промисы](https://learn.javascript.ru/promise-basics)  
[Цепочка промисов](https://learn.javascript.ru/promise-chaining)  
[Promise API](https://learn.javascript.ru/promise-api)  
[Промисификация](https://learn.javascript.ru/promisify)  
[Async/await](https://learn.javascript.ru/async-await)  
[Обработка ошибок, "try..catch"](https://learn.javascript.ru/try-catch)  
[Промисы: обработка ошибок](https://learn.javascript.ru/promise-error-handling)  
[Событийный цикл: микрозадачи и макрозадачи](https://learn.javascript.ru/event-loop)  
[Про цикл событий в JavaScript или "как на самом деле работает асинхронность"? (youtube)](https://www.youtube.com/watch?v=wQuRq3GStR8)

# Задачи на ES6-модули
## Задача: Использование модулей в сервисе погоды

Доработать задачу "Сервис погоды" из раздела **Promises, async/await**:

Разделить код на ES6-модули (.js файлы), подключив к HTML-файлу.

Для проверки работы приложения в браузере использовать node-пакет **http-server**:

1. Установить пакет глобально **npm install http-server -g**
2. Перейти по пути проекта в терминале (папка с файлами задачи)
3. Выполнить команду **http-server**
4. Открыть в браузере один из предложенных URL (например, http://127.0.0.1:8080)

Приложение должно работать в консоли браузера.

Папка для задачи: **14-js-weather-service**

## Задача: Написание тестов для сервиса погоды

Покрыть код из предыдущей задачи с сервисом погоды юнит-тестами (покрытие 90%).

Использовать Jest.

Папка для задачи: **14-js-weather-service**

Материалы:  
[Модули, введение](https://learn.javascript.ru/modules-intro)  
[Экспорт и импорт](https://learn.javascript.ru/import-export)  
[Динамические импорты](https://learn.javascript.ru/modules-dynamic-imports)
